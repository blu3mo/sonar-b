僕は今から作りたいシステムのイメージを話しますまずめっちゃ外訳を忘れないうちに話しておくとバーゼルにデプロイする前提のNext.jsのシステムですLLMを使用するのでOpenRouterでgemini-3-flashを使いますデザインはできる限りシンプルだけどクオリティが高くこだわられているものを作ってください雑にオテゴで装飾を作るのではなく機能的に意味のあるデザインをこだわって作ってくださいノーションとかいい例だよねああいう感じじゃあ本題に入ります何を作りたいかというとユーザーが何か自分としてこれを何か明らかにしたいこととか自分の中で言語化したいことスタンスを明確にしたいことがあるときあるいは他の人にそれをやってほしいときにそれをインプットそれを言葉でまた説明しますそのときは目的と背景情報をそれぞれ渡せるようにしようかな目的は例えば参議院選挙で投票したいけど自分の各政策に関するスタンスを明確にしたいとか例えばそういう話で背景情報として例えば現状の選挙に関する各論点のまとまったPDFをアップロードするとかそういうイメージですねあるいは別の話で言うと例えば友達と喧嘩をしていて自分が今現状についてどう思っていて理想像についてどう考えているのかを整理したいとか背景情報としてそれまでのLINEの会話履歴とかその友達とどういうことをやってきたのかとかそういう話とかいろいろ考えられると思うそうっていう感じこの辺のあれだねまあいいやまず最初にその2つの入力パートがあってそれを入れますセッションを開始としますするとユーザーは何をするかというと質問にひたすら答えますどういう質問が出てくるかというとまずステートメントが出てきます30から50文字くらいかな30文字くらいのステートメントとそれを補足する100文字くらいの文章が出てきますなんとかであるとかなんとかであるべきとかそういう話が出てきますそれにに対してイエスわからないYESでも分からないでもない選択肢3つが出てくる例えば実際もうちょっと深くて複雑な質問にしてほしいけど私ステートメントが私は相手を嫌いであるYES分からないあるいは嫌いではないけどちょっと最近もやもやしているとかそもそも相手に対する関心を失っているとか何通りか考えられると思う要はイエスでも分からないでもないならこうなんじゃないかなって一言にノーと言ってもいろんなノーがありえると思うからイエスとは言えないけどじゃあこういうスタンスでセミティアなところを見て選択肢 を出すっていう感じかなそう言わせても分からないでもないならこういう選択肢っていうのをポンポンポン3つぐらい出しておくでそれをその中から選択肢を選ぶと次の質問に行けてで次の質問に対して答えてみたいなのを繰り返していくっていう感じかなででねちょっと画面のイメージとしてはなんかそのGoogleフォームに近いような感じで質問がどんどん出てきて答えていくみたいな感じかなそれはどんどん伸びていくような感じ質問は最初にダーンって生成するんじゃなくて質問の生成ロジックを説明します常に目的とコンテクストの背景情報を入れた上でまず5問生成します5問生成し答えてもらいます答え終わったらそれを踏まえたAIによるあなたの分析みたいなのが書かれますそれはなんか生成されますそれじゃあ500文字程度かなでその次にさらに5問質問が生成されてで答えるとそれを踏まえた診断みたいなのが生成されてさらに5問出てみたいな感じそういうイメージですねでっていうのを繰り返していくとそのだんだんとその人に関する情報その問題に対するスタンスみたいなのがどんどん明らかになっていくと思う1個気をつけたいのは質問生成のタイミングで大局観を失うと1個の一瞬だけでどんどん放っちゃうみたいなことが起きちゃうと思っていてそれは防ぎたいこれは質問生成の時のプロンプトを工夫してほしくてそこに上手い指示を書いておくとシンキングの過程でLLMが吉田に考えてくれると思うんだけどイメージとしては要は常に最終的にこの目的達成のために何を聞かないといけないのかというのを全体移動を俯瞰してその中で今何ができていて何ができていなくてじゃあまず今まず何を持っていくのかとかあるいはいつ別の方向に展開するのかみたいなそこの大局観を持ちながら次の5問の質問っていうのを生成するっていうそこを徹底してほしいかなと思いますそういう意味でそこで深く掘っていくことと探索のトレードみたいなのがあると思うんだけど最初の方は探索度高めつまり幅広くやっていってだんだんと掘っていくみたいなそういう感じでやっていこうかなと思いますここはね分かったそこに関してはプロンプトをだんだん変えていこう最初の20問くらいは探索度高めでそういうカスタムプロンプトを全部置き換えるんじゃなくて例えば今はこういうフェースなのでこういう感じでやりますっていう文言だけそこだけどんどん置き換えていくそういう設計にしたい20問目から40問目はもう少し掘っていって45問目から50問目はちょっとまた探索するとか今人に言ってるけどそういう感じで掘っていくのと探索するのを置き換えていくのがいいと思うんだよなそうしようそういう仕組みでお願いします15問最初は探索するけどその後は探索と掘るのを交互にやっていくみたいなそういう感じでいいかなそうしましょう一旦仮の設計として100問答えたらそこで終わりとしてそれによってその人の診断レポートみたいなのが出てくるっていうようにしようその診断レポートはできる限り詳細にかつ本人に寄り添うような形その人が自分のことをAIが理解してくれてると感じられるなおかつ気づきも与えるような自分ってこう思ってたんだとか面白さもあるようなそういうレポートであってほしいですねそこはちょっといい感じにプロンプトとかフォーマットこういう構成でみたいなプロンプトを書いてくださいという感じかな一旦それでお願いします

今からもう少し具体的な細部に関しても、頭の中にあることをひたすら話していきます。まず、100問でレポートを作るって言ったけど、途中で中断できる仕組みも用意したいし、あるいは100問やってレポート出た後にさらに質問に答えるっていうオプションも残しておきたいです。あと、そのユーザーが途中で疲れて後で答えようと思った時に、一時保存しておくとか、そういう仕組みもありだと思います。そこはデータベースでちゃんと映像を区化して、一旦クッキーでいいかな。クッキーとかローカルストレージとかにそのセッションのIDを貼っておいて、トップページに行くとまた再開できるとか、そういうセッションを選んで再開できるみたいな、そういう感じにしましょう。

UIはね、ここはスマホで触れるようなUIにしてほしいなと思っています。レイアウトは工夫してみてほしいです。5問答えるための分析は、回答の質問、質問、質問の後にその下に出てくるみたいな感じで、その下にさらに質問が出てくるみたいな感じで、そういう1次元のフローがある感じにしましょう。過去の回答の修正もできるようにしていいです。その時に、その後ろを再度変えるとか、再度生成するとか、そういうことはしなくていいです。

あとコンテクストとかに関しては、ラグとかは別にしなくていいです。コンテクストに全く突っ込みましょう。データベースはスーパーベースを使いましょう。PDFとかも全部文字情報として保存しておきましょう。質問生成に関しては、ちゃんとローディングとか出してあげてほしい。ローディングというより、モックの次のボックスみたいなのが見えているみたいな、そういう感じのローディングのUIが綺麗だなと思います。

最終レポートに関しては、それを印刷するために別のページに飛べたりとかするようにしたいです。最終レポートの中でちゃんと質問を引用するようにしてほしいな。[56]とか、そういう感じで論文の引用みたいな感じでやってもらえるといいなと思います。
